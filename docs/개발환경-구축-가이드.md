# ROIMSG 개발환경 구축 가이드 (Windows)

## 📋 목차
1. [개요](#1-개요)
2. [필수 프로그램 설치](#2-필수-프로그램-설치)
3. [데이터베이스 설정](#3-데이터베이스-설정)
4. [Google OAuth 설정](#4-google-oauth-설정)
5. [프로젝트 클론 및 설정](#5-프로젝트-클론-및-설정)
6. [환경변수 설정](#6-환경변수-설정)
7. [백엔드 빌드 및 실행](#7-백엔드-빌드-및-실행)
8. [프론트엔드 빌드 및 실행](#8-프론트엔드-빌드-및-실행)
9. [실행 확인](#9-실행-확인)
10. [문제 해결](#10-문제-해결)
11. [개발 도구 권장사항](#11-개발-도구-권장사항)

---

## 1. 개요

### 1.1. 시스템 요구사항

- **운영체제:** Windows 10/11 (64비트)
- **RAM:** 최소 8GB (권장 16GB)
- **디스크 공간:** 최소 20GB
- **인터넷 연결:** 필수 (패키지 다운로드 및 Google OAuth 인증)

### 1.2. 기술 스택

**백엔드:**
- Java 21
- Spring Boot 3.2.0
- PostgreSQL 15 (또는 H2 인메모리 DB)
- Redis 7.0
- Maven 3.9+

**프론트엔드:**
- Node.js 18+
- Vue.js 3
- TypeScript
- Vite

### 1.3. 예상 소요 시간

- 처음 설치: **2-3시간**
- 기존 개발 환경이 있는 경우: **30분-1시간**

---

## 2. 필수 프로그램 설치

### 2.1. Chocolatey 패키지 관리자 설치 (권장)

Chocolatey는 Windows용 패키지 관리자로, 프로그램 설치를 쉽게 해줍니다.

**설치 방법:**

1. **PowerShell을 관리자 권한으로 실행**
   - 시작 메뉴에서 "PowerShell" 검색
   - 우클릭 → "관리자 권한으로 실행"

2. **Chocolatey 설치 명령어 실행**
   ```powershell
   Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))
   ```

3. **설치 확인**
   ```powershell
   choco --version
   ```

### 2.2. Git 설치

**Chocolatey 사용:**
```powershell
choco install git -y
```

**수동 설치:**
1. [Git 공식 사이트](https://git-scm.com/download/win) 접속
2. 설치 파일 다운로드 및 실행
3. 기본 설정으로 설치 진행

**설치 확인:**
```powershell
git --version
# 출력 예: git version 2.42.0.windows.1
```

**Git 초기 설정:**
```powershell
git config --global user.name "홍길동"
git config --global user.email "your.email@example.com"
git config --global core.autocrlf true  # Windows 줄바꿈 설정
```

### 2.3. Node.js 설치

**Chocolatey 사용:**
```powershell
choco install nodejs-lts -y
```

**수동 설치:**
1. [Node.js 공식 사이트](https://nodejs.org/) 접속
2. LTS 버전 다운로드 (18.x 이상)
3. 설치 파일 실행
4. 기본 설정으로 설치 진행 (PATH 자동 추가 옵션 체크)

**설치 확인:**
```powershell
node --version
# 출력 예: v18.17.0

npm --version
# 출력 예: 9.6.7
```

**npm 글로벌 패키지 위치 확인:**
```powershell
npm config get prefix
# 출력 예: C:\Users\사용자명\AppData\Roaming\npm
```

### 2.4. Java Development Kit (JDK) 21 설치

**Chocolatey 사용:**
```powershell
choco install openjdk21 -y
```

**수동 설치:**
1. [Oracle JDK](https://www.oracle.com/java/technologies/downloads/#java21) 또는 [OpenJDK](https://adoptium.net/) 접속
2. Windows x64 Installer 다운로드
3. 설치 파일 실행
4. 설치 경로 기억 (예: `C:\Program Files\Java\jdk-21`)

**환경변수 설정 (수동 설치 시):**

1. **시스템 환경 변수 편집 열기**
   - 시작 메뉴에서 "환경 변수" 검색
   - "시스템 환경 변수 편집" 클릭

2. **JAVA_HOME 설정**
   - "환경 변수" 버튼 클릭
   - "시스템 변수" 섹션에서 "새로 만들기" 클릭
   - 변수 이름: `JAVA_HOME`
   - 변수 값: `C:\Program Files\Java\jdk-21` (실제 설치 경로)

3. **PATH에 Java 추가**
   - "시스템 변수"에서 "Path" 선택 → "편집"
   - "새로 만들기" 클릭
   - `%JAVA_HOME%\bin` 추가

**설치 확인:**
```powershell
# PowerShell 새로 열기
java --version
# 출력 예: openjdk 21.0.1 2023-10-17

javac --version
# 출력 예: javac 21.0.1
```

### 2.5. Apache Maven 설치

**Chocolatey 사용:**
```powershell
choco install maven -y
```

**수동 설치:**
1. [Maven 공식 사이트](https://maven.apache.org/download.cgi) 접속
2. Binary zip archive 다운로드
3. 압축 해제 (예: `C:\Program Files\Apache\maven`)
4. 환경변수 설정:
   - `MAVEN_HOME`: `C:\Program Files\Apache\maven`
   - `Path`에 `%MAVEN_HOME%\bin` 추가

**설치 확인:**
```powershell
mvn --version
# 출력 예: Apache Maven 3.9.5
```

**Maven 설정 파일 확인:**
```powershell
# settings.xml 위치
echo %USERPROFILE%\.m2\settings.xml
```

### 2.6. PostgreSQL 설치 (선택사항)

> **참고:** 개발 시에는 H2 인메모리 데이터베이스를 사용하므로 PostgreSQL 설치는 선택사항입니다.

**Chocolatey 사용:**
```powershell
choco install postgresql -y
```

**수동 설치:**
1. [PostgreSQL 공식 사이트](https://www.postgresql.org/download/windows/) 접속
2. Windows x86-64 Installer 다운로드
3. 설치 파일 실행
4. 설치 옵션:
   - 포트: 5432 (기본값)
   - 슈퍼유저 비밀번호 설정 (기억할 것!)
   - 로케일: Korean, South Korea (또는 기본값)

**설치 확인:**
```powershell
psql --version
# 출력 예: psql (PostgreSQL) 15.4
```

**PostgreSQL 서비스 시작:**
```powershell
# 서비스 상태 확인
Get-Service postgresql*

# 서비스 시작
Start-Service postgresql-x64-15  # 버전에 따라 이름 다를 수 있음
```

### 2.7. Redis 설치

**Windows용 Redis 설치:**

Redis는 공식적으로 Windows를 지원하지 않지만, Microsoft가 포팅한 버전을 사용할 수 있습니다.

**설치 방법 1: Chocolatey 사용**
```powershell
choco install redis-64 -y
```

**설치 방법 2: MSI 설치 파일 사용**
1. [Redis for Windows GitHub](https://github.com/microsoftarchive/redis/releases) 접속
2. 최신 `Redis-x64-*.msi` 파일 다운로드
3. 설치 파일 실행
4. "Add the Redis installation folder to the PATH" 옵션 체크

**Redis 서비스 시작:**
```powershell
# 서비스 시작
Start-Service Redis

# 또는 수동 실행
redis-server
```

**설치 확인:**
```powershell
redis-cli ping
# 출력: PONG
```

**Windows에서 Redis 사용 시 참고사항:**
- Redis는 백그라운드 서비스로 실행됩니다
- 기본 포트: 6379
- 개발 중에는 비밀번호 없이 사용 가능

### 2.8. IDE 설치 (권장)

**백엔드 개발:**
- **IntelliJ IDEA** (Community 또는 Ultimate)
  ```powershell
  choco install intellijidea-community -y
  ```

**프론트엔드 개발:**
- **Visual Studio Code**
  ```powershell
  choco install vscode -y
  ```

**또는 통합 IDE:**
- **Cursor** (AI 지원 IDE)
  - [Cursor 공식 사이트](https://cursor.sh/) 에서 다운로드

---

## 3. 데이터베이스 설정

### 3.1. 개발 환경 (H2 인메모리 DB 사용)

ROIMSG는 개발 환경에서 H2 인메모리 데이터베이스를 기본으로 사용합니다. 별도 설치 불필요합니다.

**장점:**
- 별도 설치 불필요
- 서비스 시작 시 자동으로 데이터베이스 생성
- 빠른 개발 및 테스트
- 서비스 종료 시 데이터 초기화

**H2 콘솔 접속:**
```
URL: http://localhost:8081/h2-console
JDBC URL: jdbc:h2:mem:testdb
Username: sa
Password: (빈값)
```

### 3.2. PostgreSQL 사용 (선택사항)

PostgreSQL을 사용하려면 다음 단계를 따르세요.

**1. PostgreSQL 접속:**
```powershell
# psql 실행
psql -U postgres

# 비밀번호 입력 (설치 시 설정한 비밀번호)
```

**2. 데이터베이스 및 사용자 생성:**
```sql
-- 사용자 생성
CREATE USER roit WITH PASSWORD 'fhdlxpzm1*';

-- 데이터베이스 생성
CREATE DATABASE ROIMSG OWNER roit;

-- 권한 부여
GRANT ALL PRIVILEGES ON DATABASE ROIMSG TO roit;

-- 확인
\l
\du

-- 종료
\q
```

**3. 데이터베이스 연결 확인:**
```powershell
psql -U roit -d ROIMSG -h localhost -p 5432
# 비밀번호: fhdlxpzm1*
```

**4. 스키마 초기화:**
```powershell
# 프로젝트 루트로 이동
cd H:\ROIAPP\ROIMSG

# 스크립트 디렉토리로 이동
cd scripts

# Node.js 의존성 설치
npm install

# 데이터베이스 초기화 스크립트 실행
node setup-database.js
```

**또는 SQL 파일 직접 실행:**
```powershell
cd scripts\sql

# 테이블 생성
psql -U roit -d ROIMSG -f 01-create-tables.sql

# 인덱스 생성
psql -U roit -d ROIMSG -f 02-create-indexes.sql

# 샘플 데이터 삽입
psql -U roit -d ROIMSG -f 03-insert-sample-data.sql
```

---

## 4. Google OAuth 설정

Google OAuth는 사용자 인증을 위해 필수적으로 설정해야 합니다.

### 4.1. 개발용 Google OAuth 계정 정보

프로젝트에는 개발용 Google OAuth 계정이 설정되어 있습니다:

```
Client ID: 386472545089-nms9v0b856h10q9dp380gn4t9oukbtfg.apps.googleusercontent.com
Client Secret: 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
Redirect URI: http://localhost:3000/auth/callback
```

> **⚠️ 중요:** 이 계정은 개발 및 테스트용입니다. 운영 환경에서는 별도의 OAuth 계정을 생성해야 합니다.

### 4.2. 새로운 Google OAuth 클라이언트 생성 (선택사항)

개인 Google 계정으로 새로운 OAuth 클라이언트를 생성하려면:

**1. Google Cloud Console 접속**
- [Google Cloud Console](https://console.cloud.google.com/) 접속
- Google 계정으로 로그인

**2. 새 프로젝트 생성**
- 상단의 프로젝트 선택 드롭다운 클릭
- "새 프로젝트" 클릭
- 프로젝트 이름: `ROIMSG-Dev` (또는 원하는 이름)
- "만들기" 클릭

**3. OAuth 동의 화면 설정**
- 좌측 메뉴 → "API 및 서비스" → "OAuth 동의 화면"
- 사용자 유형: **외부** 선택
- "만들기" 클릭
- **앱 정보:**
  - 앱 이름: `ROIMSG`
  - 사용자 지원 이메일: (본인 이메일)
  - 앱 로고: (선택사항)
- **앱 도메인:**
  - 홈페이지: `http://localhost:3000`
  - 개인정보처리방침: (선택사항)
  - 서비스 약관: (선택사항)
- **승인된 도메인:**
  - `localhost` 추가
- **개발자 연락처 정보:**
  - (본인 이메일)
- "저장 후 계속" 클릭

**4. 범위(Scope) 설정**
- "범위 추가 또는 삭제" 클릭
- 다음 범위 추가:
  - `.../auth/userinfo.email`
  - `.../auth/userinfo.profile`
  - `openid`
- "업데이트" 클릭
- "저장 후 계속" 클릭

**5. 테스트 사용자 추가 (개발 단계)**
- "테스트 사용자 추가" 클릭
- 본인 Gmail 주소 추가
- "저장 후 계속" 클릭

**6. OAuth 클라이언트 ID 생성**
- 좌측 메뉴 → "API 및 서비스" → "사용자 인증 정보"
- "사용자 인증 정보 만들기" → "OAuth 2.0 클라이언트 ID" 클릭
- **애플리케이션 유형:** 웹 애플리케이션
- **이름:** `ROIMSG Web Client`
- **승인된 자바스크립트 원본:**
  - `http://localhost:3000` 추가
- **승인된 리디렉션 URI:**
  - `http://localhost:3000/auth/callback` 추가
  - `http://localhost:3000/auth/google/callback` 추가 (예비)
- "만들기" 클릭

**7. 클라이언트 ID 및 Secret 복사**
- 생성된 팝업에서 클라이언트 ID와 클라이언트 보안 비밀번호 복사
- 안전한 곳에 저장 (나중에 환경변수로 사용)

**8. API 활성화 (필요 시)**
- 좌측 메뉴 → "API 및 서비스" → "라이브러리"
- "Google+ API" 검색 및 사용 설정
- "People API" 검색 및 사용 설정

### 4.3. Google OAuth 테스트

OAuth 설정이 완료되면 다음 URL로 테스트할 수 있습니다:

```
https://accounts.google.com/o/oauth2/v2/auth?
client_id=YOUR_CLIENT_ID&
redirect_uri=http://localhost:3000/auth/callback&
response_type=code&
scope=openid%20profile%20email
```

---

## 5. 프로젝트 클론 및 설정

### 5.1. 작업 디렉토리 생성

```powershell
# 작업 디렉토리 생성
mkdir H:\ROIAPP
cd H:\ROIAPP
```

### 5.2. Git 저장소 클론

```powershell
# Git 저장소 클론
git clone https://github.com/your-org/ROIMSG.git

# 또는 로컬 디렉토리에 이미 있는 경우
cd H:\ROIAPP\ROIMSG
```

### 5.3. 프로젝트 구조 확인

```powershell
# 프로젝트 구조 확인
tree /F /A

# 주요 디렉토리
# ROIMSG/
# ├── backend/              # 백엔드 서비스들
# │   ├── api-gateway/
# │   ├── auth-service/
# │   ├── user-service/
# │   └── ...
# ├── frontend/             # 프론트엔드
# │   └── web-app/
# ├── docs/                 # 문서
# └── scripts/              # 유틸리티 스크립트
```

---

## 6. 환경변수 설정

### 6.1. PowerShell 프로필 설정 (권장)

PowerShell을 열 때마다 자동으로 환경변수가 설정되도록 합니다.

**1. PowerShell 프로필 파일 확인:**
```powershell
# 프로필 파일 경로 확인
echo $PROFILE

# 출력 예: C:\Users\사용자명\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1
```

**2. 프로필 파일이 없으면 생성:**
```powershell
# 프로필 디렉토리 생성
New-Item -Path $PROFILE -Type File -Force
```

**3. 프로필 파일 편집:**
```powershell
# 메모장으로 열기
notepad $PROFILE

# 또는 VS Code로 열기
code $PROFILE
```

**4. 다음 내용 추가:**
```powershell
# ROIMSG 개발 환경 변수
# ===========================================
# 데이터베이스 설정
# ===========================================
$env:DB_HOST = "localhost"
$env:DB_PORT = "5432"
$env:DB_NAME = "ROIMSG"
$env:DB_USER = "roit"
$env:DB_PASSWORD = "fhdlxpzm1*"

# ===========================================
# Google OAuth 2.0 설정 (개발 환경)
# ===========================================
$env:GOOGLE_CLIENT_ID = "386472545089-nms9v0b856h10q9dp380gn4t9oukbtfg.apps.googleusercontent.com"
$env:GOOGLE_CLIENT_SECRET = "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"
$env:GOOGLE_REDIRECT_URI = "http://localhost:3000/auth/callback"

# ===========================================
# JWT 설정
# ===========================================
$env:JWT_SECRET = "your_super_secret_jwt_key_here_change_this_in_production_at_least_32_characters_long"
$env:JWT_EXPIRATION = "86400"
$env:JWT_REFRESH_EXPIRATION = "604800"

# ===========================================
# Redis 설정
# ===========================================
$env:REDIS_HOST = "localhost"
$env:REDIS_PORT = "6379"
$env:REDIS_PASSWORD = ""
$env:REDIS_DATABASE = "0"

# ===========================================
# 멀티테넌시 설정
# ===========================================
$env:DEFAULT_TENANT_ID = "550e8400-e29b-41d4-a716-446655440000"
$env:TENANT_HEADER = "X-Tenant-Id"

# ===========================================
# 프론트엔드 환경변수
# ===========================================
$env:VITE_API_BASE_URL = "http://localhost:8080"
$env:VITE_GOOGLE_CLIENT_ID = "386472545089-nms9v0b856h10q9dp380gn4t9oukbtfg.apps.googleusercontent.com"
$env:VITE_GOOGLE_REDIRECT_URI = "http://localhost:3000/auth/callback"
$env:VITE_GOOGLE_AUTH_URI = "https://accounts.google.com/o/oauth2/v2/auth"
$env:VITE_WS_URL = "ws://localhost:3001"
$env:VITE_DEFAULT_TENANT_ID = "550e8400-e29b-41d4-a716-446655440000"

Write-Host "ROIMSG 환경변수가 로드되었습니다." -ForegroundColor Green
```

**5. 저장하고 PowerShell 재시작:**
```powershell
# PowerShell 재시작 또는
. $PROFILE  # 프로필 즉시 적용
```

### 6.2. 일회성 환경변수 설정 (프로필 없이)

프로필을 사용하지 않고 매번 수동으로 설정하는 방법:

```powershell
# 백엔드 환경변수
$env:GOOGLE_CLIENT_ID = "386472545089-nms9v0b856h10q9dp380gn4t9oukbtfg.apps.googleusercontent.com"
$env:GOOGLE_CLIENT_SECRET = "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"
$env:GOOGLE_REDIRECT_URI = "http://localhost:3000/auth/callback"

# 프론트엔드 환경변수
$env:VITE_API_BASE_URL = "http://localhost:8080"
$env:VITE_GOOGLE_CLIENT_ID = "386472545089-nms9v0b856h10q9dp380gn4t9oukbtfg.apps.googleusercontent.com"
$env:VITE_GOOGLE_REDIRECT_URI = "http://localhost:3000/auth/callback"
```

### 6.3. 환경변수 확인

```powershell
# 환경변수 확인
echo $env:GOOGLE_CLIENT_ID
echo $env:VITE_API_BASE_URL
```

---

## 7. 백엔드 빌드 및 실행

### 7.1. Common Starter 빌드

공통 라이브러리를 먼저 빌드합니다.

```powershell
cd H:\ROIAPP\ROIMSG\backend\common-starter

# 빌드 및 로컬 Maven 저장소에 설치
mvn clean install -DskipTests

# 성공 메시지 확인: BUILD SUCCESS
```

### 7.2. 개별 서비스 빌드 (선택사항)

각 서비스를 개별적으로 빌드할 수 있습니다.

```powershell
# Auth Service 빌드
cd H:\ROIAPP\ROIMSG\backend\auth-service
mvn clean package -DskipTests

# API Gateway 빌드
cd H:\ROIAPP\ROIMSG\backend\api-gateway
mvn clean package -DskipTests
```

### 7.3. 전체 백엔드 서비스 실행

프로젝트 루트의 PowerShell 스크립트를 사용하여 모든 서비스를 한 번에 실행합니다.

```powershell
cd H:\ROIAPP\ROIMSG

# 백엔드 서비스 전체 실행
.\start-backend-services.ps1
```

이 스크립트는 다음 서비스들을 새 PowerShell 창에서 실행합니다:
1. API Gateway (포트 8080)
2. Auth Service (포트 8081)
3. User Service (포트 8082)
4. Message Service (포트 8083)
5. Board Service (포트 8084)
6. File Service (포트 8085)
7. Dashboard Service (포트 8086)

**각 서비스가 실행되는 모습:**
```
[INFO] --- spring-boot:3.2.0:run (default-cli) @ auth-service ---
[INFO] Attaching agents: []

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-10-14T09:20:45.123+09:00  INFO 12345 --- [           main] c.r.auth.AuthServiceApplication          : Starting AuthServiceApplication...
```

### 7.4. 개별 서비스 실행 (수동)

특정 서비스만 실행하려면:

```powershell
# Auth Service 실행
cd H:\ROIAPP\ROIMSG\backend\auth-service
mvn spring-boot:run

# API Gateway 실행 (다른 PowerShell 창)
cd H:\ROIAPP\ROIMSG\backend\api-gateway
mvn spring-boot:run
```

### 7.5. 서비스 실행 확인

**1. 포트 확인:**
```powershell
netstat -ano | findstr :8080
netstat -ano | findstr :8081
```

**2. Health Check 확인:**
```powershell
# API Gateway
curl http://localhost:8080/actuator/health

# Auth Service
curl http://localhost:8081/actuator/health

# 예상 응답: {"status":"UP"}
```

**3. Swagger UI 접속:**
- Auth Service API 문서: http://localhost:8081/swagger-ui.html
- H2 Console (개발 DB): http://localhost:8081/h2-console

---

## 8. 프론트엔드 빌드 및 실행

### 8.1. 의존성 설치

```powershell
cd H:\ROIAPP\ROIMSG\frontend\web-app

# Node.js 의존성 설치
npm install

# 설치 완료까지 5-10분 소요될 수 있습니다
```

**설치 중 오류 발생 시:**
```powershell
# npm 캐시 정리
npm cache clean --force

# node_modules 삭제 후 재설치
Remove-Item -Recurse -Force node_modules
Remove-Item package-lock.json
npm install
```

### 8.2. 개발 서버 실행

**방법 1: 환경변수가 프로필에 설정된 경우**
```powershell
cd H:\ROIAPP\ROIMSG\frontend\web-app
npm run dev
```

**방법 2: 환경변수를 수동으로 설정하는 경우**
```powershell
cd H:\ROIAPP\ROIMSG\frontend\web-app

# 환경변수 설정
$env:VITE_API_BASE_URL = "http://localhost:8080"
$env:VITE_GOOGLE_CLIENT_ID = "386472545089-nms9v0b856h10q9dp380gn4t9oukbtfg.apps.googleusercontent.com"
$env:VITE_GOOGLE_REDIRECT_URI = "http://localhost:3000/auth/callback"
$env:VITE_GOOGLE_AUTH_URI = "https://accounts.google.com/o/oauth2/v2/auth"
$env:VITE_WS_URL = "ws://localhost:3001"
$env:VITE_DEFAULT_TENANT_ID = "550e8400-e29b-41d4-a716-446655440000"

# 개발 서버 실행
npm run dev
```

**실행 결과:**
```
VITE v5.0.0  ready in 1234 ms

  ➜  Local:   http://localhost:3000/
  ➜  Network: http://192.168.0.100:3000/
  ➜  press h to show help
```

### 8.3. 브라우저에서 접속

프론트엔드가 실행되면 자동으로 브라우저가 열립니다.

```
URL: http://localhost:3000
```

수동으로 열려면:
```powershell
start http://localhost:3000
```

---

## 9. 실행 확인

### 9.1. 시스템 전체 확인

**1. 서비스 포트 확인:**
```powershell
$ports = 3000, 8080, 8081, 8082, 8083, 8084, 8085, 8086

foreach ($port in $ports) {
    $connection = Test-NetConnection -ComputerName localhost -Port $port -WarningAction SilentlyContinue
    if ($connection.TcpTestSucceeded) {
        Write-Host "✓ Port $port is open" -ForegroundColor Green
    } else {
        Write-Host "✗ Port $port is closed" -ForegroundColor Red
    }
}
```

**예상 출력:**
```
✓ Port 3000 is open   (Frontend)
✓ Port 8080 is open   (API Gateway)
✓ Port 8081 is open   (Auth Service)
✓ Port 8082 is open   (User Service)
✓ Port 8083 is open   (Message Service)
✓ Port 8084 is open   (Board Service)
✓ Port 8085 is open   (File Service)
✓ Port 8086 is open   (Dashboard Service)
```

**2. 접속 URL 정리:**

| 서비스 | URL | 설명 |
|--------|-----|------|
| **프론트엔드** | http://localhost:3000 | 웹 애플리케이션 |
| **API Gateway** | http://localhost:8080 | API 게이트웨이 |
| **Auth Service API** | http://localhost:8081/swagger-ui.html | Auth API 문서 |
| **H2 Console** | http://localhost:8081/h2-console | 개발 DB 콘솔 |
| **Health Check** | http://localhost:8080/actuator/health | 시스템 상태 |

### 9.2. Google OAuth 로그인 테스트

**1. 브라우저에서 프론트엔드 접속:**
```
http://localhost:3000
```

**2. "Google로 로그인" 버튼 클릭**

**3. Google 인증 페이지로 리다이렉트**
- 개발 환경이므로 테스트 사용자로 등록된 Gmail 계정 사용
- 또는 개발용 Google OAuth 설정의 테스트 사용자 추가 필요

**4. 인증 완료 후 대시보드로 리다이렉트**

**5. 브라우저 개발자 도구에서 확인:**
- `F12` 키를 눌러 개발자 도구 열기
- "Application" 또는 "저장소" 탭
- Local Storage에서 `accessToken` 확인

**로그인 플로우:**
```
사용자 클릭 → Google 인증 페이지 → 사용자 인증 → 
Authorization Code 반환 → 백엔드에 Code 전송 → 
Google에서 사용자 정보 조회 → JWT 토큰 발급 → 
프론트엔드에 토큰 반환 → 로그인 완료
```

### 9.3. API 테스트 (선택사항)

**Postman 또는 cURL로 API 테스트:**

**1. Health Check:**
```powershell
curl http://localhost:8080/actuator/health
```

**2. 로그인 테스트 (Auth Service):**
```powershell
# Google 로그인은 브라우저에서만 가능
# 프론트엔드에서 로그인 후 토큰 복사
```

**3. 인증이 필요한 API 테스트:**
```powershell
# 사용자 목록 조회 (JWT 토큰 필요)
curl http://localhost:8080/api/users `
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" `
  -H "X-Tenant-Id: 550e8400-e29b-41d4-a716-446655440000"
```

---

## 10. 문제 해결

### 10.1. 포트 충돌

**문제:** "Address already in use" 또는 포트가 이미 사용 중

**해결:**
```powershell
# 포트 사용 중인 프로세스 확인
netstat -ano | findstr :8080

# 프로세스 ID (PID) 확인 후 종료
taskkill /PID [PID번호] /F

# 예시
taskkill /PID 12345 /F
```

### 10.2. Java 버전 문제

**문제:** "Invalid target release: 21" 오류

**해결:**
```powershell
# 현재 Java 버전 확인
java -version
javac -version

# JAVA_HOME 확인
echo $env:JAVA_HOME

# JAVA_HOME 재설정
$env:JAVA_HOME = "C:\Program Files\Java\jdk-21"
$env:Path = "$env:JAVA_HOME\bin;$env:Path"
```

### 10.3. Maven 빌드 실패

**문제:** Maven 의존성 다운로드 실패

**해결:**
```powershell
# Maven 로컬 저장소 정리
Remove-Item -Recurse -Force $env:USERPROFILE\.m2\repository

# 의존성 강제 업데이트
mvn clean install -U
```

### 10.4. npm 설치 오류

**문제:** "EACCES" 또는 "permission denied" 오류

**해결:**
```powershell
# npm 캐시 정리
npm cache clean --force

# node_modules 삭제
Remove-Item -Recurse -Force node_modules
Remove-Item package-lock.json

# 재설치
npm install
```

### 10.5. Redis 연결 실패

**문제:** "Could not connect to Redis" 오류

**해결:**
```powershell
# Redis 서비스 상태 확인
Get-Service Redis

# Redis 서비스 시작
Start-Service Redis

# 또는 수동 실행
redis-server

# 연결 테스트
redis-cli ping
```

### 10.6. Google OAuth 오류

**문제:** "redirect_uri_mismatch" 오류

**해결:**
1. Google Cloud Console에서 OAuth 클라이언트 ID 설정 확인
2. 승인된 리디렉션 URI에 정확히 `http://localhost:3000/auth/callback` 추가
3. 환경변수 `GOOGLE_REDIRECT_URI` 확인

**문제:** "invalid_client" 오류

**해결:**
1. `GOOGLE_CLIENT_ID`와 `GOOGLE_CLIENT_SECRET` 확인
2. 환경변수가 올바르게 설정되었는지 확인
3. 공백이나 특수문자가 없는지 확인

### 10.7. H2 Console 접속 불가

**문제:** H2 Console 접속 시 연결 실패

**해결:**
```
JDBC URL을 정확히 입력:
- jdbc:h2:mem:testdb
- Username: sa
- Password: (빈값)

Auth Service가 실행 중인지 확인:
http://localhost:8081/actuator/health
```

### 10.8. 프론트엔드 빌드 오류

**문제:** "Module not found" 오류

**해결:**
```powershell
# 의존성 재설치
cd H:\ROIAPP\ROIMSG\frontend\web-app
Remove-Item -Recurse -Force node_modules
npm install

# TypeScript 타입 재생성
npm run type-check
```

---

## 11. 개발 도구 권장사항

### 11.1. IntelliJ IDEA 플러그인

**백엔드 개발용:**
1. **Lombok** - Java 보일러플레이트 코드 제거
2. **Spring Boot Assistant** - Spring Boot 개발 지원
3. **JPA Buddy** - JPA 엔티티 관리
4. **SonarLint** - 코드 품질 검사
5. **Database Navigator** - 데이터베이스 관리

**설치 방법:**
- IntelliJ IDEA 실행
- File → Settings → Plugins
- Marketplace에서 검색 및 설치

### 11.2. VS Code 확장 프로그램

**프론트엔드 개발용:**
1. **Volar** - Vue 3 지원 (필수)
2. **TypeScript Vue Plugin (Volar)** - TypeScript 지원
3. **ESLint** - 코드 린팅
4. **Prettier** - 코드 포맷팅
5. **Vue VSCode Snippets** - Vue 스니펫
6. **Auto Rename Tag** - HTML 태그 자동 변경
7. **Path Intellisense** - 경로 자동완성
8. **GitLens** - Git 기능 강화

**설치 방법:**
- VS Code 실행
- 좌측 확장 프로그램 아이콘 클릭 (`Ctrl+Shift+X`)
- 검색 및 설치

### 11.3. 유용한 Chrome 확장 프로그램

1. **Vue.js devtools** - Vue 디버깅
2. **Redux DevTools** - 상태 관리 디버깅 (Pinia 지원)
3. **React Developer Tools** - (필요시)
4. **JSON Viewer** - JSON 포맷팅
5. **Lighthouse** - 성능 측정

### 11.4. 터미널 도구

**Windows Terminal 설정:**
```powershell
# Windows Terminal 설치
choco install microsoft-windows-terminal -y

# 또는 Microsoft Store에서 설치
start ms-windows-store://pdp/?productid=9N0DX20HK701
```

**Oh My Posh (PowerShell 테마):**
```powershell
# Oh My Posh 설치
choco install oh-my-posh -y

# 폰트 설치 (필수)
choco install firacode -y

# PowerShell 프로필에 추가
notepad $PROFILE

# 다음 줄 추가:
# oh-my-posh init pwsh --config "$env:POSH_THEMES_PATH\paradox.omp.json" | Invoke-Expression
```

---

## 12. 개발 워크플로우

### 12.1. 일반적인 개발 시작 순서

**1. 시스템 준비 (일일 1회)**
```powershell
# Redis 시작 (자동 시작 설정 안 한 경우)
Start-Service Redis

# PostgreSQL 시작 (사용하는 경우)
Start-Service postgresql-x64-15
```

**2. 프로젝트 업데이트**
```powershell
cd H:\ROIAPP\ROIMSG
git pull origin main
```

**3. 백엔드 실행**
```powershell
# PowerShell 창 1
cd H:\ROIAPP\ROIMSG
.\start-backend-services.ps1
```

**4. 프론트엔드 실행**
```powershell
# PowerShell 창 2
cd H:\ROIAPP\ROIMSG\frontend\web-app
npm run dev
```

**5. 브라우저에서 개발**
```
http://localhost:3000
```

### 12.2. 코드 변경 후 테스트

**백엔드 변경 시:**
- Spring Boot DevTools가 자동 재시작 (설정된 경우)
- 또는 `Ctrl+C`로 중지 후 재실행

**프론트엔드 변경 시:**
- Vite HMR (Hot Module Replacement)이 자동으로 반영
- 브라우저 새로고침 불필요

### 12.3. 개발 종료

**1. 프론트엔드 중지**
```powershell
# 프론트엔드 터미널에서
Ctrl+C
```

**2. 백엔드 중지**
```powershell
# 각 백엔드 서비스 터미널에서
Ctrl+C

# 또는 모든 Java 프로세스 종료
Get-Process -Name java | Stop-Process -Force
```

---

## 13. 참고 자료

### 13.1. 프로젝트 문서

- **환경설정.md** - 상세 환경설정 가이드
- **시스템구성.md** - 시스템 아키텍처 설명
- **아키텍처구성.md** - 기술 아키텍처 상세
- **기능구성 및 설명.md** - 기능별 상세 설명
- **빌드 및 실행.md** - 빌드 및 실행 가이드
- **개발표준문서.md** - 코딩 컨벤션 및 개발 표준

### 13.2. 외부 문서

**Spring Boot:**
- [Spring Boot 공식 문서](https://spring.io/projects/spring-boot)
- [Spring Security OAuth2](https://spring.io/guides/tutorials/spring-boot-oauth2/)

**Vue.js:**
- [Vue 3 공식 문서](https://vuejs.org/)
- [Vuetify 공식 문서](https://vuetifyjs.com/)

**Google OAuth:**
- [Google OAuth 2.0 가이드](https://developers.google.com/identity/protocols/oauth2)

### 13.3. 커뮤니티 및 지원

**문제 발생 시:**
1. 프로젝트 문서 확인
2. GitHub Issues 검색
3. 팀 내부 Slack/Discord 채널
4. Stack Overflow

---

## 14. 체크리스트

개발환경 구축이 완료되었는지 확인하세요:

### 14.1. 프로그램 설치
- [ ] Git 설치 및 설정
- [ ] Node.js 18+ 설치
- [ ] Java 21 설치 및 JAVA_HOME 설정
- [ ] Maven 3.9+ 설치
- [ ] Redis 설치 및 실행
- [ ] PostgreSQL 설치 (선택사항)
- [ ] IDE 설치 (IntelliJ IDEA / VS Code)

### 14.2. 프로젝트 설정
- [ ] Git 저장소 클론
- [ ] 환경변수 설정 (PowerShell 프로필 또는 수동)
- [ ] Google OAuth 설정 확인

### 14.3. 백엔드
- [ ] Common Starter 빌드 성공
- [ ] Auth Service 실행 성공 (포트 8081)
- [ ] API Gateway 실행 성공 (포트 8080)
- [ ] Health Check 응답 확인
- [ ] Swagger UI 접속 가능

### 14.4. 프론트엔드
- [ ] npm install 성공
- [ ] 개발 서버 실행 성공 (포트 3000)
- [ ] 브라우저에서 접속 가능
- [ ] Google 로그인 테스트 성공

### 14.5. 통합 테스트
- [ ] 모든 서비스 포트 열려 있음 확인
- [ ] Google OAuth 로그인 성공
- [ ] JWT 토큰 발급 확인
- [ ] API 호출 성공

---

## 15. 다음 단계

개발환경 구축이 완료되었다면:

1. **코딩 컨벤션 숙지**
   - `개발표준문서.md` 읽기
   - Java, TypeScript 코딩 스타일 확인

2. **기능 개발 시작**
   - `기능구성 및 설명.md`에서 담당 기능 확인
   - 새 브랜치 생성 (`feature/기능명`)
   - 개발 시작

3. **Git 워크플로우**
   ```bash
   # 새 기능 브랜치 생성
   git checkout -b feature/user-profile
   
   # 개발 완료 후 커밋
   git add .
   git commit -m "feat(user): 사용자 프로필 조회 기능 추가"
   
   # 푸시
   git push origin feature/user-profile
   
   # Pull Request 생성
   ```

4. **팀 협업**
   - 코드 리뷰 요청
   - 테스트 작성
   - 문서 업데이트

---

**작성자:** ROIMSG Development Team  
**최종 수정일:** 2025-10-14  
**버전:** 1.0.0  
**대상:** 신규 개발자 (Windows 환경)

---

## 📞 지원

문제가 발생하거나 질문이 있으면:
- 📧 **이메일:** dev-support@roimsg.com
- 💬 **Slack:** #roimsg-dev 채널
- 📝 **GitHub Issues:** https://github.com/your-org/ROIMSG/issues

**개발환경 구축을 환영합니다! 🎉**

